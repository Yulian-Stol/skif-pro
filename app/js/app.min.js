"use strict";document.addEventListener("DOMContentLoaded",(function(){((e,t,r)=>{const a=document.querySelector(e),i=document.querySelector(t),n=document.querySelector(r);a.addEventListener("click",e=>{a.classList.toggle("hamburger--active"),i.classList.toggle("header__nav--active"),n.classList.toggle("header--menu")})})(".hamburger",".header__nav",".header");var e;e=".accordion",document.querySelectorAll(e).forEach(e=>{const t=e.querySelector(".accordion__header"),r=e.querySelector(".accordion__content");t.addEventListener("click",t=>{if(e.classList.contains("accordion--active"))r.style.height="0px",e.classList.remove("accordion--active");else{e.classList.add("accordion--active"),r.style.height="auto";var a=r.clientHeight+"px";r.style.height="0px",setTimeout(()=>{r.style.height=a},0)}})});((e,t,r,a)=>{const i=document.querySelector(e),n=document.querySelectorAll(t),s=document.querySelectorAll(r);if(document.documentElement.clientWidth<1200){function c(){s.forEach(e=>{e.style.display="none"}),n.forEach(e=>{e.classList.remove(a)})}function o(e=0){s[e].style.display="block",n[e].classList.add(a)}c(),o(),i.addEventListener("click",e=>{const r=e.target;r&&(r.classList.contains(t.replace(/\./,""))||r.parentNode.classList.contains(t.replace(/\./,"")))&&n.forEach((e,t)=>{r!=e&&r.parentNode!=e||(c(),o(t))})})}})(".tabs",".tabs__item",".tabs__wrap","active");((e,t)=>{const r=document.querySelector(e),a=t.replace(/\./,"");window.addEventListener("scroll",(function(){pageYOffset>=90?r.classList.add(a):r.classList.remove(a)}))})(".header",".header--active");(e=>{const t=document.querySelectorAll(e);let r=1,a=1,i=1,n=1;t.forEach(e=>{const t="form--"+r++;e.classList.add(t);let s=e.id=t,c=document.querySelector("#"+s);c.addEventListener("submit",(async function(t){t.preventDefault();let r=function(e){let t=0,r=c.querySelectorAll("._req");for(let e=0;e<r.length;e++){const a=r[e];a.classList.contains("_email")?u(a)&&(l(a),t++):"checkbox"===a.getAttribute("type")&&!1===a.checked?(d(a),t++):""===a.value&&(o(a),t++)}return t}(),a=new FormData(e);if(0===r){if(e.classList.add("_sending"),(await fetch("sendmail.php",{method:"POST",body:a})).ok){let t=document.querySelector("#modal__thanks");c.parentNode.style.display="none",t.classList.add("active"),e.reset(),e.classList.remove("_sending")}else alert("Ошибка при отправке"),e.classList.remove("_sending")}}));function o(e){let t=document.createElement("div");t.classList.add("form__error"),t.innerHTML="Введите данные в поле",e.parentElement.append(t),e.parentElement.classList.add("_error"),e.classList.add("_error")}function l(e){let t=document.createElement("div");t.classList.add("form__error"),t.innerHTML="Введите свою почту",e.parentElement.append(t),e.parentElement.classList.add("_error"),e.classList.add("_error")}function d(e){let t=document.createElement("div");t.classList.add("form__error"),t.innerHTML="Согласие на обработку персональных данных",e.parentElement.append(t),e.parentElement.classList.add("_error"),e.classList.add("_error")}function u(e){return!/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/.test(e.value)}c.querySelectorAll(".formImgFile").forEach(e=>{const t="formImgFile--"+r++;let s=e.id=t,c=document.querySelector("#"+s);const o=c.querySelector(".formImage"),l=c.querySelector(".formLebel"),d=c.querySelector(".formPreview");let u="formImage--"+a++,m="formPreview--"+n++;o.id=u,l.htmlFor="formImage--"+i++,d.id=m;document.querySelector("#"+u).addEventListener("change",()=>{!function(e){if(!["image/jpeg","image/png","image/gif","image/ico","application/pdf"].includes(e.type))return alert("Только изображения"),void(o.value="");if(e.size>2097152)return void alert("Размер менее 2 мб.");var t=new FileReader;t.onload=function(t){["application/pdf"].includes(e.type)?d.innerHTML="Файл выбран":d.innerHTML=`<img src="${t.target.result}" alt="Фото">`},t.onerror=function(e){alert("Ошибка")},t.readAsDataURL(e)}(o.files[0])})})})})(".form");new Swiper(".example__slider",{slidesPerView:1,spaceBetween:50,mousewheel:{invert:!0},pagination:{el:".example__pagination",clickable:"true"},breakpoints:{767:{slidesPerView:2,spaceBetween:50}}}),new Swiper(".team__slider",{slidesPerView:1,spaceBetween:10,grabCursor:!0,freeMode:{enabled:!0,sticky:!0},pagination:{el:".team__pagination",clickable:"true"},breakpoints:{1200:{slidesPerView:4,spaceBetween:40},992:{slidesPerView:3},767:{slidesPerView:3},576:{slidesPerView:2},360:{slidesPerView:1,freeMode:{enabled:!1,sticky:!1}}}}),new Swiper(".using__slider",{slidesPerView:2,spaceBetween:15,grabCursor:!0,autoplay:!1,loop:!1,grid:{rows:2},pagination:{el:".using__pagination",clickable:"true"},breakpoints:{767:{slidesPerView:4,spaceBetween:20,grid:{rows:1}},1200:{spaceBetween:40,slidesPerView:5,loop:!0,autoplay:!0,grid:{rows:1}}}});if(document.documentElement.clientWidth<992)new Swiper(".using__sliderbot",{slidesPerView:2,spaceBetween:15,grabCursor:!0,autoplay:!1,loop:!1,grid:{rows:2},pagination:{el:".using__paginationbot",clickable:"true"}});(e=>{const t=document.querySelectorAll(e);if(t){t.forEach(e=>{const t=e.id;document.querySelectorAll("."+t).forEach(t=>{let r=e.querySelector(".close");t&&t.addEventListener("click",t=>{t.target&&t.preventDefault(),e.classList.add("active")}),r&&r.addEventListener("click",()=>{e.classList.remove("active")}),e.addEventListener("click",t=>{t.target===e&&e.classList.remove("active")})})})}})(".modal")}));